<div class="main-menu">
  <a href="#/{{cityName}}/{{event.id}}" class="back-button">  
    <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
  </a>
  <!-- <div class="left-menu">
    <a href="#/" class="back-button menu-button">
    <span class="glyphicon glyphicon-arrow-left"></span></a> 
  </div> -->

 <a class="home-link" href="#/"><img src="img/wgo-heading-text.png" class="wgo-heading"/></a>
  <!-- <div class="right-menu">
    <a href="#" class="open-menu-button menu-button">
    <span class="glyphicon glyphicon-align-justify"></span></a>
  </div> -->
</div>
<h1>Create a new event!</h1>

<form ng-submit="submitEvent()" accept-charset="UTF-8" id="editForm">

	<div class="form-group">

	<label for="title">Titel:</label>
	<input class="form-control" name="title" value="{{event.title}}" type="text" id="title">

	<label for="body">Förklarande text om eventet:</label>
	<textarea class="form-control" name="body" cols="50" rows="10" id="body">{{event.body}}</textarea>

	<label for="image">Bild:</label>
	<input class="form-control" name="image" value="" type="file" id="image">

	<label for="age">Åldergräns:</label>
	<input class="form-control" name="age" value="{{event.age}}" type="text" id="age">

	<label for="start_time">Tiden som eventet startar:</label>
	<input class="form-control" name="start_time" value="{{event.start_time}}" type="time" id="time">

	<label for="end_time">Tiden som eventet slutar:</label>
	<input class="form-control" name="end_time" value="{{event.end_time}}" type="time" id="time">

	<label for="cost">Pris: </label>
	<input min="0" class="form-control" name="cost" value="{{event.price}}" type="number" id="cost">

	<label for="cost">Pris för olika kategorier, markera dem som du vill skriva in pris för: </label>
	<div id="optional-pricing" ng-repeat="optional_category in optional_categories">
		<input type="checkbox" id="{{optional_category.id}}" value="{{optional_category.id}}" ng-checked="selected_optional=='4'" class="optional_checkbox" name="optional_list[]"><p id="{{optional_category.id}}">{{optional_category.description}}</p>
		<div id="input-div{{optional_category.id}}"></div>
	</div>

	<label for="address">Addressen för eventet:</label>
	<input class="form-control" name="address" value="{{event.address}}" type="text" id="address">

	<label for="date">Datum:</label>
	<input class="form-control" name="date" value="{{event.date.date | dateToISO | date:'yyyy-MM-dd'}}" type="date" id="date">

	<label for="event_page">Evenemangets webbplats:</label>
	<input class="form-control" name="event_page" value="{{event.event_page}}" type="text" id="event_page">


	<label for="city">Stad:</label>
	<select id="city_list" class="form-control" name="city_id" ng-options="city.name for city in cities track by city.id" ng-model="selected">
	</select>

	<label for="tag_list">Tags:</label>
	<select id="tag_list" class="form-control" multiple="multiple" name="tag_list[]" ng-options="tag.name for tag in tags track by tag.id" ng-model="selectedValues">
	<option></option>
	</select>

	<input class="btn btn-success form-control" type="submit" value="Add Event">
{{selected_optional}}
</div>

</form>

</div>

<script>
	$('#tag_list, #city_list, #image_list, #optional_list').select2({
	});


  	$('body').on('click', '.optional_checkbox', function(){
		
		var id = $(this).attr('id');

		if($(this).is(":checked")){

			$('#input-div' + id).append('<input type="text" id="optional-text"' + id + '" name="cost[]">');

		}else{
			$('#input-div' + id).empty();

		}
  	
  	});

</script>